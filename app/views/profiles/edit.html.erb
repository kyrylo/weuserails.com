<article class="article">
  <%= render "shared/flashes" %>

  <% if Current.user.errors.any? %>
    <% Current.user.errors.full_messages.each do |message| %>
      <p class="text-red-600"><%= message %></p>
    <% end %>
  <% end %>

  <header>
    <h2>change email</h2>

    <%= form_with(url: profile_path, model: Current.user, method: :put, class: "mt-2") do |form| %>
      <div class="form-row">
        <%= form.label :email_address, "email:" %>
        <%= form.email_field(:email_address, autocomplete: "username", required: true, value: Current.user.email_address) %>
      </div>

      <div class="mt-1">
        <%= form.submit "update" %>
      </div>
    <% end %>
  </header>

  <section>
    <h2>change passsword</h2>

    <%= form_with(url: profile_password_url, model: Current.user, method: :put, class: "mt-2 form") do |form| %>
      <div class="form-row">
        <%= form.label :current_password, "current:" %>
        <%= form.password_field(:current_password, autocomplete: "username", required: true) %>
      </div>

      <div class="form-row">
        <%= form.label :new_password, "new:" %>
        <%= form.password_field(:new_password, autocomplete: "new-password", required: true, maxlength: 72) %>
      </div>

      <div class="form-row">
        <%= form.label :new_password_confirmation, "confirm:" %>
        <%= form.password_field(:new_password_confirmation, autocomplete: "new-password", required: true, maxlength: 72) %>
      </div>

      <div class="mt-1">
        <%= form.submit "update" %>
      </div>
    <% end %>
  </section>
</article>
